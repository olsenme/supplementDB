      if (typeof(BONZ) !== 'undefined' && BONZ.packageLoading) BONZ.packageLoading('sessions_js');
      (function(){var d;d=function(){function c(){this.options_index=0;this.parsed=[]}c.prototype.add_node=function(a){return"OPTGROUP"===a.nodeName.toUpperCase()?this.add_group(a):this.add_option(a)};c.prototype.add_group=function(a){var b,f,c,e,d,k;b=this.parsed.length;this.parsed.push({array_index:b,group:!0,label:a.label,children:0,disabled:a.disabled});d=a.childNodes;k=[];c=0;for(e=d.length;c<e;c++)f=d[c],k.push(this.add_option(f,b,a.disabled));return k};c.prototype.add_option=function(a,b,f){if("OPTION"===
a.nodeName.toUpperCase())return""!==a.text?(null!=b&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,selected:a.selected,disabled:!0===f?f:a.disabled,group_array_index:b,classes:a.className,style:a.style.cssText,append:$(a).data("append")})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1};return c}();d.select_to_array=function(c){var a,
b,f,g;a=new d;g=c.childNodes;b=0;for(f=g.length;b<f;b++)c=g[b],a.add_node(c);return a.parsed};this.SelectParser=d}).call(this);
(function(){this.AbstractChosen=function(){function d(c,a){this.form_field=c;this.options=null!=a?a:{};this.is_multiple=this.form_field.multiple;this.set_default_text();this.set_default_values();this.setup();this.set_up_html();this.register_observers();this.finish_setup()}d.prototype.set_default_values=function(){var c=this;this.click_test_action=function(a){return c.test_active_click(a)};this.activate_action=function(a){return c.activate_field(a)};this.results_showing=this.mouse_on_container=this.active_field=
!1;this.result_single_selected=this.result_highlighted=null;this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1;this.disable_search_threshold=this.options.disable_search_threshold||0;this.disable_search=this.options.disable_search||!1;this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0;this.search_contains=this.options.search_contains||
!1;this.choices=0;this.single_backstroke_delete=this.options.single_backstroke_delete||!1;this.max_selected_options=this.options.max_selected_options||Infinity;this.display_as_list=this.options.display_as_list||!1;return this.inherit_select_classes=this.options.inherit_select_classes||!1};d.prototype.set_default_text=function(){this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.default_text=this.is_multiple?this.options.placeholder_text_multiple||
this.options.placeholder_text||"Select Some Options":this.options.placeholder_text_single||this.options.placeholder_text||"Select an Option";return this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||"No results match"};d.prototype.mouse_enter=function(){return this.mouse_on_container=!0};d.prototype.mouse_leave=function(c){$(c.delegateTarget).hasClass("chzn-deprecated-container-active")&&this.display_as_list&&(this.active_field=!1,this.close_field());
return this.mouse_on_container=!1};d.prototype.input_focus=function(c){var a=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return a.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()};d.prototype.input_blur=function(c){var a=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return a.blur_test()},100)};d.prototype.result_add_option=function(c){var a,b;if(c.disabled)return"";c.dom_id=this.container_id+"_o_"+
c.array_index;a=c.selected&&this.is_multiple?[]:["active-result"];c.selected&&a.push("result-selected");null!=c.group_array_index&&a.push("group-option");""!==c.classes&&a.push(c.classes);b=""!==c.style.cssText?' style="'+c.style+'"':"";str='<li id="'+c.dom_id+'" class="'+a.join(" ")+'"'+b+">"+c.html;void 0!==c.append&&(str+="<span>"+c.append+"</span>");return str+="</li>"};d.prototype.results_update_field=function(){this.is_multiple||this.results_reset_cleanup();this.result_clear_highlight();this.result_single_selected=
null;return this.results_build()};d.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()};d.prototype.results_search=function(c){return this.results_showing?this.winnow_results():this.results_show()};d.prototype.keyup_checker=function(c){var a,b;a=null!=(b=c.which)?b:c.keyCode;this.search_field_scale();switch(a){case 8:if(this.is_multiple&&1>this.backstroke_length&&0<this.choices)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),
this.results_search();break;case 13:c.preventDefault();if(this.results_showing)return this.result_select(c);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};d.prototype.generate_field_id=function(){var c;c=this.generate_random_id();return this.form_field.id=c};d.prototype.generate_random_char=function(){var c;c=Math.floor(36*Math.random());return"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".substring(c,
c+1)};return d}()}).call(this);
(function(){var d,c,a,b,f={}.hasOwnProperty,g=function(a,b){function k(){this.constructor=a}for(var c in b)f.call(b,c)&&(a[c]=b[c]);k.prototype=b.prototype;a.prototype=new k;a.__super__=b.prototype;return a};b=this;d=jQuery;d.fn.extend({chosenDeprecated:function(a){return d.browser.msie&&("6.0"===d.browser.version||"7.0"===d.browser.version&&7===document.documentMode)?this:this.each(function(b){b=d(this);if(!b.hasClass("chzn-deprecated-done"))return b.data("chosen",new c(this,a))})}});c=function(f){function c(){return c.__super__.constructor.apply(this,
arguments)}g(c,f);c.prototype.setup=function(){this.form_field_jq=d(this.form_field);this.current_value=this.form_field_jq.val();return this.is_rtl=this.form_field_jq.hasClass("chzn-deprecated-rtl")};c.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-deprecated-done")};c.prototype.set_up_html=function(){var b,c,f;this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id();this.container_id+="_chzn_deprecated";b=["chzn-deprecated-container"];
b.push("chzn-deprecated-container-"+(this.is_multiple?"multi":"single"));this.inherit_select_classes&&this.form_field.className&&b.push(this.form_field.className);this.is_rtl&&b.push("chzn-deprecated-rtl");this.f_width=this.form_field_jq.outerWidth();b={id:this.container_id,"class":b.join(" "),style:"width: "+this.f_width+"px;",title:this.form_field.title};b=d("<div />",b);this.is_multiple?b.html('<ul class="chzn-deprecated-choices"><li class="search-field"><input type="text" value="'+this.default_text+
'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-deprecated-drop" style="left:-9000px;"><ul class="chzn-deprecated-results"></ul></div>'):(f='<div class="chzn-deprecated-drop" style="left:-9000px;"><div class="chzn-deprecated-search"><input type="text" autocomplete="off" /></div><ul class="chzn-deprecated-results"></ul></div>',this.display_as_list||(f='<a href="javascript:void(0)" class="chzn-deprecated-single chzn-deprecated-default" tabindex="-1"><span>'+this.default_text+
"</span><div><b></b></div></a>"+f),b.html(f));this.form_field_jq.hide().after(b);this.container=d("#"+this.container_id);this.dropdown=this.container.find("div.chzn-deprecated-drop").first();this.display_as_list?this.dropdown.addClass("chzn-deprecated-list"):(b=this.container.height(),c=this.f_width-a(this.dropdown),this.dropdown.css({width:c+"px",top:b+"px"}));this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chzn-deprecated-results").first();this.search_field_scale();
this.search_no_results=this.container.find("li.no-results").first();this.is_multiple?(this.search_choices=this.container.find("ul.chzn-deprecated-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-deprecated-search").first(),this.selected_item=this.container.find(".chzn-deprecated-single").first(),c=c-a(this.search_container)-a(this.search_field),this.search_field.css({width:c+"px"}));this.results_build();this.set_tab_index();
return this.form_field_jq.trigger("liszt:ready",{chosen:this})};c.prototype.register_observers=function(){var a=this;this.container.mousedown(function(b){return a.container_mousedown(b)});this.container.mouseup(function(b){return a.container_mouseup(b)});this.container.mouseenter(function(b){return a.mouse_enter(b)});this.container.mouseleave(function(b){return a.mouse_leave(b)});this.search_results.mouseup(function(b){return a.search_results_mouseup(b)});this.search_results.mouseover(function(b){return a.search_results_mouseover(b)});
this.search_results.mouseout(function(b){return a.search_results_mouseout(b)});this.form_field_jq.bind("liszt:updated",function(b){return a.results_update_field(b)});this.form_field_jq.bind("liszt:activate",function(b){return a.activate_field(b)});this.form_field_jq.bind("liszt:open",function(b){return a.container_mousedown(b)});this.search_field.blur(function(b){return a.input_blur(b)});this.search_field.keyup(function(b){return a.keyup_checker(b)});this.search_field.keydown(function(b){return a.keydown_checker(b)});
this.search_field.focus(function(b){return a.input_focus(b)});return this.is_multiple?this.search_choices.click(function(b){return a.choices_click(b)}):this.container.click(function(a){return a.preventDefault()})};c.prototype.search_field_disabled=function(){if(this.is_disabled=this.form_field_jq[0].disabled)return this.container.addClass("chzn-deprecated-disabled"),this.search_field[0]&&(this.search_field[0].disabled=!0),this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field();
this.container.removeClass("chzn-deprecated-disabled");this.search_field[0]&&(this.search_field[0].disabled=!1);if(!this.is_multiple)return this.selected_item.bind("focus",this.activate_action)};c.prototype.container_mousedown=function(a){var b;if(!this.is_disabled){b=null!=a?d(a.target).hasClass("search-choice-close"):!1;a&&("mousedown"===a.type&&!this.results_showing)&&a.preventDefault();if(!this.pending_destroy_click&&!b){if(this.active_field){if(!this.is_multiple&&a&&(d(a.target)[0]===this.selected_item[0]||
d(a.target).parents("a.chzn-deprecated-single").length))a.preventDefault(),this.results_toggle()}else this.is_multiple&&this.search_field.val(""),d(document).click(this.click_test_action),this.results_show();return this.activate_field()}return this.pending_destroy_click=!1}};c.prototype.container_mouseup=function(a){if("ABBR"===a.target.nodeName&&!this.is_disabled)return this.results_reset(a)};c.prototype.blur_test=function(a){if(!this.active_field&&this.container.hasClass("chzn-deprecated-container-active"))return this.close_field()};
c.prototype.close_field=function(){d(document).unbind("click",this.click_test_action);this.active_field=!1;this.results_hide();this.container.removeClass("chzn-deprecated-container-active");this.winnow_results_clear();this.clear_backstroke();this.show_search_field_default();return this.search_field_scale()};c.prototype.activate_field=function(){this.container.addClass("chzn-deprecated-container-active");this.active_field=!0;this.search_field.val(this.search_field.val());return this.search_field.focus()};
c.prototype.test_active_click=function(a){return d(a.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()};c.prototype.results_build=function(){var a,c,f,e,d;this.parsing=!0;this.results_data=b.SelectParser.select_to_array(this.form_field);this.is_multiple&&0<this.choices?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.addClass("chzn-deprecated-default").find("span").text(this.default_text),this.disable_search||
this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-deprecated-container-single-nosearch"):this.container.removeClass("chzn-deprecated-container-single-nosearch"));a="";d=this.results_data;f=0;for(e=d.length;f<e;f++)c=d[f],c.group?a+=this.result_add_group(c):c.empty||(a+=this.result_add_option(c),c.selected&&this.is_multiple?this.choice_build(c):c.selected&&!this.is_multiple&&(null!=c.group_array_index?this.selected_item.removeClass("chzn-deprecated-default").find("span").text(this.results_data[c.group_array_index].label+
" "+c.text):this.selected_item.removeClass("chzn-deprecated-default").find("span").text(c.text),this.allow_single_deselect&&this.single_deselect_control_build()));this.search_field_disabled();this.show_search_field_default();this.search_field_scale();this.search_results.html(a);return this.parsing=!1};c.prototype.result_add_group=function(a){if(a.disabled)return"";a.dom_id=this.container_id+"_g_"+a.array_index;return'<li id="'+a.dom_id+'" class="group-result">'+d("<div />").text(a.label).html()+"</li>"};
c.prototype.result_do_highlight=function(a){var b,c,f,d;if(a.length){this.result_clear_highlight();this.result_highlight=a;this.result_highlight.addClass("highlighted");c=parseInt(this.search_results.css("maxHeight"),10);d=this.search_results.scrollTop();f=c+d;b=this.result_highlight.position().top+this.search_results.scrollTop();a=b+this.result_highlight.outerHeight();if(a>=f)return this.search_results.scrollTop(0<a-c?a-c:0);if(b<d)return this.search_results.scrollTop(b)}};c.prototype.result_clear_highlight=
function(){this.result_highlight&&this.result_highlight.removeClass("highlighted");return this.result_highlight=null};c.prototype.results_show=function(){var a;if(this.is_multiple){if(this.max_selected_options<=this.choices)return this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1}else this.selected_item.addClass("chzn-deprecated-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected);a=this.is_multiple?this.container.height():this.container.height()-
1;this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this});this.dropdown.css({top:a+"px",left:0});this.results_showing=!0;this.search_field.focus();this.search_field.val(this.search_field.val());return this.winnow_results()};c.prototype.results_hide=function(){if(this.display_as_list)return!1;this.is_multiple||this.selected_item.removeClass("chzn-deprecated-single-with-drop");this.result_clear_highlight();this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this});this.dropdown.css({left:"-9000px"});
return this.results_showing=!1};c.prototype.set_tab_index=function(a){if(this.form_field_jq.attr("tabindex"))return a=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.search_field.attr("tabindex",a)};c.prototype.show_search_field_default=function(){if(this.is_multiple&&1>this.choices&&!this.active_field)return this.search_field.val(this.default_text),this.search_field.addClass("default");this.search_field.val("");return this.search_field.removeClass("default")};c.prototype.search_results_mouseup=
function(a){var b;b=d(a.target).hasClass("active-result")?d(a.target):d(a.target).parents(".active-result").first();if(b.length)return this.result_highlight=b,this.result_select(a),this.search_field.focus()};c.prototype.search_results_mouseover=function(a){if(a=d(a.target).hasClass("active-result")?d(a.target):d(a.target).parents(".active-result").first())return this.display_as_list&&!this.active_field&&this.activate_field(),this.result_do_highlight(a)};c.prototype.search_results_mouseout=function(a){if(d(a.target).hasClass("active-result"))return this.result_clear_highlight()};
c.prototype.choices_click=function(a){a.preventDefault();if(this.active_field&&!d(a.target).hasClass("search-choice")&&!this.results_showing)return this.results_show()};c.prototype.choice_build=function(a){var b,c=this;if(this.is_multiple&&this.max_selected_options<=this.choices)return this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1;b=this.container_id+"_c_"+a.array_index;this.choices+=1;this.search_container.before(a.disabled?'<li class="search-choice search-choice-disabled" id="'+
b+'"><span>'+a.html+"</span></li>":'<li class="search-choice" id="'+b+'"><span>'+a.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+a.array_index+'"></a></li>');return d("#"+b).find("a").first().click(function(a){return c.choice_destroy_link_click(a)})};c.prototype.choice_destroy_link_click=function(a){a.preventDefault();if(this.is_disabled)return a.stopPropagation;this.pending_destroy_click=!0;return this.choice_destroy(d(a.target))};c.prototype.choice_destroy=function(a){if(this.result_deselect(a.attr("rel")))return this.choices-=
1,this.show_search_field_default(),this.is_multiple&&(0<this.choices&&1>this.search_field.val().length)&&this.results_hide(),a.parents("li").first().remove(),this.search_field_scale()};c.prototype.results_reset=function(){this.form_field.options[0].selected=!0;this.selected_item.find("span").text(this.default_text);this.is_multiple||this.selected_item.addClass("chzn-deprecated-default");this.show_search_field_default();this.results_reset_cleanup();this.form_field_jq.trigger("change");if(this.active_field)return this.results_hide()};
c.prototype.results_reset_cleanup=function(){this.current_value=this.form_field_jq.val();return this.selected_item.find("abbr").remove()};c.prototype.result_select=function(a){var b,c;if(this.result_highlight)return b=this.result_highlight,c=b.attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(b):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=b,this.selected_item.removeClass("chzn-deprecated-default")),b.addClass("result-selected"),
b=c.substr(c.lastIndexOf("_")+1),b=this.results_data[b],b.selected=!0,this.form_field.options[b.options_index].selected=!0,this.is_multiple?this.choice_build(b):(null!=b.group_array_index?this.selected_item.find("span").first().text(this.results_data[b.group_array_index].label+" "+b.text):this.selected_item.find("span").first().text(b.text),this.allow_single_deselect&&this.single_deselect_control_build()),(!a.metaKey&&!a.ctrlKey||!this.is_multiple)&&this.results_hide(),this.search_field.val(""),(this.display_as_list||
this.is_multiple||this.form_field_jq.val()!==this.current_value)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[b.options_index].value}),this.current_value=this.form_field_jq.val(),this.search_field_scale()};c.prototype.result_activate=function(a){return a.addClass("active-result")};c.prototype.result_deactivate=function(a){return a.removeClass("active-result")};c.prototype.result_deselect=function(a){var b;b=this.results_data[a];if(this.form_field.options[b.options_index].disabled)return!1;
b.selected=!1;this.form_field.options[b.options_index].selected=!1;d("#"+this.container_id+"_o_"+a).removeClass("result-selected").addClass("active-result").show();this.result_clear_highlight();this.winnow_results();this.form_field_jq.trigger("change",{deselected:this.form_field.options[b.options_index].value});this.search_field_scale();return!0};c.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect&&1>this.selected_item.find("abbr").length)return this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')};
c.prototype.winnow_results=function(){var a,b,c,f,e,g,h,r,t,x,u,v,y,z,w;this.no_results_clear();r=0;t=this.search_field.val()===this.default_text?"":d("<div/>").text(d.trim(this.search_field.val())).html();e=RegExp((this.search_contains?"":"^")+t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");x=RegExp(t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");w=this.results_data;u=0;for(y=w.length;u<y;u++)if(b=w[u],!b.disabled&&!b.empty)if(b.group)d("#"+b.dom_id).css("display","none");else if(!this.is_multiple||
!b.selected){a=!1;h=b.dom_id;g=d("#"+h);if(e.test(b.html))a=!0,r+=1;else if(this.enable_split_word_search&&(0<=b.html.indexOf(" ")||0===b.html.indexOf("[")))if(f=b.html.replace(/\[|\]/g,"").split(" "),f.length){v=0;for(z=f.length;v<z;v++)c=f[v],e.test(c)&&(a=!0,r+=1)}a?(t.length?(a=b.html.search(x),c=b.html.substr(0,a+t.length)+"</em>"+b.html.substr(a+t.length),c=c.substr(0,a)+"<em>"+c.substr(a)):c=b.html,void 0!==b.append&&(c+="<span>"+b.append+"</span>"),g.html(c),this.result_activate(g),null!=
b.group_array_index&&d("#"+this.results_data[b.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&h===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(g))}return 1>r&&t.length?this.no_results(t):this.winnow_results_set_highlight()};c.prototype.winnow_results_clear=function(){var a,b,c,f,e;this.search_field.val("");b=this.search_results.find("li");e=[];c=0;for(f=b.length;c<f;c++)a=b[c],a=d(a),a.hasClass("group-result")?e.push(a.css("display",
"auto")):!this.is_multiple||!a.hasClass("result-selected")?e.push(this.result_activate(a)):e.push(void 0);return e};c.prototype.winnow_results_set_highlight=function(){var a;if(!this.result_highlight&&(a=!this.is_multiple?this.search_results.find(".result-selected.active-result"):[],a=a.length?a.first():this.search_results.find(".active-result").first(),null!=a))return this.result_do_highlight(a)};c.prototype.no_results=function(a){var b;b=d('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');
b.find("span").first().html(a);return this.search_results.append(b)};c.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};c.prototype.keydown_arrow=function(){var a;this.result_highlight?this.results_showing&&(a=this.result_highlight.nextAll("li.active-result").first())&&this.result_do_highlight(a):(a=this.search_results.find("li.active-result").first())&&this.result_do_highlight(d(a));if(!this.results_showing)return this.results_show()};c.prototype.keyup_arrow=
function(){var a;if(!this.results_showing&&!this.is_multiple)return this.results_show();if(this.result_highlight){a=this.result_highlight.prevAll("li.active-result");if(a.length)return this.result_do_highlight(a.first());0<this.choices&&this.results_hide();return this.result_clear_highlight()}};c.prototype.keydown_backstroke=function(){var a;if(this.pending_backstroke)return this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke();a=this.search_container.siblings("li.search-choice").last();
if(a.length&&!a.hasClass("search-choice-disabled"))return this.pending_backstroke=a,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")};c.prototype.clear_backstroke=function(){this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus");return this.pending_backstroke=null};c.prototype.keydown_checker=function(a){var b,c;b=null!=(c=a.which)?c:a.keyCode;this.search_field_scale();8!==b&&this.pending_backstroke&&this.clear_backstroke();
switch(b){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&(!this.is_multiple&&!this.display_as_list)&&this.result_select(a);this.mouse_on_container=!1;break;case 13:a.preventDefault();break;case 38:a.preventDefault();this.keyup_arrow();break;case 40:this.keydown_arrow()}};c.prototype.search_field_scale=function(){var a,b,c,f,e;if(this.is_multiple){b="position:absolute; left: -1000px; top: -1000px; display:none;";c="font-size font-style font-weight font-family line-height text-transform letter-spacing".split(" ");
f=0;for(e=c.length;f<e;f++)a=c[f],b+=a+":"+this.search_field.css(a)+";";a=d("<div />",{style:b});a.text(this.search_field.val());d("body").append(a);b=a.width()+25;a.remove();b>this.f_width-10&&(b=this.f_width-10);this.search_field.css({width:b+"px"});a=this.container.height();return this.dropdown.css({top:a+"px"})}};c.prototype.generate_random_id=function(){var a;for(a="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();0<d("#"+a).length;)a+=this.generate_random_char();
return a};return c}(AbstractChosen);b.Chosen=c;a=function(a){return a.outerWidth()-a.width()};b.get_side_border_padding=a}).call(this);(function(d){d.fn.showPassword=function(c,a){var b=d(this);if(0<b.siblings(".password-toggle").length)return this;d.fn.showPassword.checker=function(a,c){d('input[id="'+a+'"]').click(function(){d(this).is(":checked")?(d("input."+c).val(b.val()).attr("id",b.attr("id")).attr("name",b.attr("name")),d("input."+c).css("display","inline"),b.css("display","none").removeAttr("id").removeAttr("name")):(b.val(d("input."+c).val()).attr("id",d("input."+c).attr("id")).attr("name",d("input."+c).attr("name")),b.css("display",
"inline"),d("input."+c).css("display","none").removeAttr("id").removeAttr("name"))})};return this.each(function(){var f={classname:"class",name:"password-input",text:"Show Password"},g="spcb_"+parseInt(1E3*Math.random()),e=g.replace("spcb_","spin_"),h=""!==b.attr("class")?e+" "+b.attr("class"):e;"object"==typeof c&&d.extend(f,c);"object"==typeof a&&d.extend(f,a);var k=f.name;theclass=""==f.classname?"":' class="'+f.clasname+'"';d(this).before('<input type="text" value="" size="30" class="'+h+'" style="display: none;" />');
f='<div class="password-toggle"><input'+theclass+' type="checkbox" id="'+g+'" name="'+k+'" value="sp" /><label for="'+g+'">'+f.text+"</label></div>";"object"==c||"undefined"==typeof c?d(this).after(f):d(c).append(f);d.fn.showPassword.checker(g,e);return this})}})(jQuery);$(function(){$("#user_password").showPassword();$("#user_password_confirmation").showPassword()});(function(d){var c={init:function(a){if(!this.data("jqv")||null==this.data("jqv"))a=c._saveOptions(this,a),d(document).on("click",".form_error",function(){d(this).fadeOut(150,function(){d(this).parent(".formErrorOuter").remove();d(this).remove()})});return this},attach:function(a){a=a?c._saveOptions(this,a):this.data("jqv");a.validateAttribute=this.find("[data-validation-engine*=validate]").length?"data-validation-engine":"class";a.binded&&(this.on(a.validationEventTrigger,"["+a.validateAttribute+
"*=validate]:not([type=checkbox]):not([type=radio]):not(.datepicker)",c._onFieldEvent),this.on("click","["+a.validateAttribute+"*=validate][type=checkbox],["+a.validateAttribute+"*=validate][type=radio]",c._onFieldEvent),this.on(a.validationEventTrigger,"["+a.validateAttribute+"*=validate][class*=datepicker]",{delay:300},c._onFieldEvent));a.autoPositionUpdate&&d(window).bind("resize",{noAnimation:!0,formElem:this},c.updatePromptsPosition);this.on("click","a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']",
c._submitButtonClick);this.removeData("jqv_submitButton");if(a.bindSubmit)this.on("submit",c._onSubmitEvent);return this},detach:function(){var a=this.data("jqv");this.find("["+a.validateAttribute+"*=validate]").not("[type=checkbox]").off(a.validationEventTrigger,c._onFieldEvent);this.find("["+a.validateAttribute+"*=validate][type=checkbox],[class*=validate][type=radio]").off("click",c._onFieldEvent);a.bindSubmit&&this.off("submit",c._onSubmitEvent);this.removeData("jqv");this.off("click","a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']",
c._submitButtonClick);this.removeData("jqv_submitButton");a.autoPositionUpdate&&d(window).off("resize",c.updatePromptsPosition);return this},validate:function(){var a=d(this),b=null;if(a.is("form")||a.hasClass("validationEngineContainer")){if(a.hasClass("validating"))return!1;a.addClass("validating");var f=a.data("jqv"),b=c._validateFields(this);setTimeout(function(){a.removeClass("validating")},100);if(b&&f.onSuccess)f.onSuccess();else if(!b&&f.onFailure)f.onFailure()}else if(a.is("form")||a.hasClass("validationEngineContainer"))a.removeClass("validating");
else{var g=a.closest("form, .validationEngineContainer"),f=g.data("jqv")?g.data("jqv"):d.validationEngine.defaults;if((b=c._validateField(a,f))&&f.onFieldSuccess)f.onFieldSuccess();else if(f.onFieldFailure&&0<f.InvalidFields.length)f.onFieldFailure()}return f.onValidationComplete?!!f.onValidationComplete(g,b):b},updatePromptsPosition:function(a){if(a&&this==window)var b=a.data.formElem,f=a.data.noAnimation;else b=d(this.closest("form, .validationEngineContainer"));var g=b.data("jqv");b.find("["+g.validateAttribute+
"*=validate]").not(":disabled").each(function(){var a=d(this);g.prettySelect&&a.is(":hidden")&&(a=b.find("#"+g.usePrefix+a.attr("id")+g.useSuffix));var h=c._getPrompt(a),k=d(h).find(".form_error_content").html();h&&c._updatePrompt(a,d(h),k,void 0,!1,g,f)});return this},showPrompt:function(a,b,f,d){var e=this.closest("form, .validationEngineContainer").data("jqv");e||(e=c._saveOptions(this,e));f&&(e.promptPosition=f);e.showArrow=!0==d;c._showPrompt(this,a,b,!1,e);return this},hide:function(){var a=
d(this).closest("form, .validationEngineContainer").data("jqv"),a=a&&a.fadeDuration?a.fadeDuration:0.3,b;b=d(this).is("form")||d(this).hasClass("validationEngineContainer")?"parentForm"+c._getClassName(d(this).attr("id")):c._getClassName(d(this).attr("id"))+"form_error";d("."+b).fadeTo(a,0.3,function(){d(this).parent(".formErrorOuter").remove();d(this).remove()});return this},hideAll:function(){var a=this.data("jqv"),a=a?a.fadeDuration:300;d(".form_error").fadeTo(a,300,function(){d(this).parent(".formErrorOuter").remove();
d(this).remove()});return this},_onFieldEvent:function(a){var b=d(this),f=b.closest("form, .validationEngineContainer").data("jqv");f.eventTrigger="field";window.setTimeout(function(){c._validateField(b,f);if(0==f.InvalidFields.length&&f.onFieldSuccess)f.onFieldSuccess();else if(0<f.InvalidFields.length&&f.onFieldFailure)f.onFieldFailure()},a.data?a.data.delay:0)},_onSubmitEvent:function(){var a=d(this),b=a.data("jqv");if(a.data("jqv_submitButton")){var f=d("#"+a.data("jqv_submitButton"));if(f&&0<
f.length&&(f.hasClass("validate-skip")||"true"==f.attr("data-validation-engine-skip")))return!0}b.eventTrigger="submit";return(f=c._validateFields(a))&&b.ajaxFormValidation?(c._validateFormWithAjax(a,b),!1):b.onValidationComplete?!!b.onValidationComplete(a,f):f},_checkAjaxStatus:function(a){var b=!0;d.each(a.ajaxValidCache,function(a,c){if(!c)return b=!1});return b},_checkAjaxFieldStatus:function(a,b){return!0==b.ajaxValidCache[a]},_validateFields:function(a){var b=a.data("jqv"),f=!1;a.trigger("jqv.form.validating");
var g=null;a.find("["+b.validateAttribute+"*=validate]").not(":disabled").each(function(){var e=d(this),h=[];if(0>d.inArray(e.attr("name"),h)){if((f|=c._validateField(e,b))&&null==g)e.is(":hidden")&&b.prettySelect?g=e=a.find("#"+b.usePrefix+c._jqSelector(e.attr("id"))+b.useSuffix):(e.data("jqv-prompt-at")instanceof jQuery?e=e.data("jqv-prompt-at"):e.data("jqv-prompt-at")&&(e=d(e.data("jqv-prompt-at"))),g=e);if(b.doNotShowAllErrosOnSubmit)return!1;h.push(e.attr("name"));if(!0==b.showOneMessage&&f)return!1}});
a.trigger("jqv.form.result",[f]);if(f){if(b.scroll){var e=g.offset().top,h=g.offset().left,k=b.promptPosition;"string"==typeof k&&-1!=k.indexOf(":")&&(k=k.substring(0,k.indexOf(":")));if("bottomRight"!=k&&"bottomLeft"!=k&&(k=c._getPrompt(g)))e=k.offset().top;b.scrollOffset&&(e-=b.scrollOffset);if(b.isOverflown){k=d(b.overflownDIV);if(!k.length)return!1;h=k.scrollTop();k=-parseInt(k.offset().top);e+=h+k-5;d(b.overflownDIV+":not(:animated)").animate({scrollTop:e},1100,function(){b.focusFirstField&&
g.focus()})}else d("html, body").animate({scrollTop:e},1100,function(){b.focusFirstField&&g.focus()}),d("html, body").animate({scrollLeft:h},1100)}else b.focusFirstField&&g.focus();return!1}return!0},_validateFormWithAjax:function(a,b){var f=a.serialize(),g=b.ajaxFormValidationMethod?b.ajaxFormValidationMethod:"GET",e=b.ajaxFormValidationURL?b.ajaxFormValidationURL:a.attr("action"),h=b.dataType?b.dataType:"json";d.ajax({type:g,url:e,cache:!1,dataType:h,data:f,form:a,methods:c,options:b,beforeSend:function(){return b.onBeforeAjaxFormValidation(a,
b)},error:function(a,f){if(b.onFailure)b.onFailure(a,f);else c._ajaxError(a,f)},success:function(f){if("json"==h&&!0!==f){for(var e=!1,g=0;g<f.length;g++){var m=f[g],l=d(d("#"+m[0])[0]);if(1==l.length){var q=m[2];!0==m[1]?""==q||!q?c._closePrompt(l):(b.allrules[q]&&(m=b.allrules[q].alertTextOk)&&(q=m),b.showPrompts&&c._showPrompt(l,q,"pass",!1,b,!0)):(e|=1,b.allrules[q]&&(m=b.allrules[q].alertText)&&(q=m),b.showPrompts&&c._showPrompt(l,q,"",!1,b,!0))}}b.onAjaxFormComplete(!e,a,f,b)}else b.onAjaxFormComplete(!0,
a,f,b)}})},_validateField:function(a,b,f){a.attr("id")||(a.attr("id","form-validation-field-"+d.validationEngine.fieldIdCounter),++d.validationEngine.fieldIdCounter);if(!b.validateNonVisibleFields&&(a.is(":hidden")&&!b.prettySelect||a.parent().is(":hidden")))return!1;var g=a.attr(b.validateAttribute),g=/validate\[(.*)\]/.exec(g);if(!g)return!1;var e=g[1].split(/\[|,|\]/),g=a.attr("name"),h="",k="",p=!1,s=!1;b.isError=!1;b.showArrow=!0;0<b.maxErrorsPerField&&(s=!0);for(var m=d(a.closest("form, .validationEngineContainer")),
l=0;l<e.length;l++)e[l]=e[l].replace(" ",""),""===e[l]&&delete e[l];for(var q=l=0;l<e.length;l++){if(s&&q>=b.maxErrorsPerField){p||(f=d.inArray("required",e),p=-1!=f&&f>=l);break}var n=void 0;switch(e[l]){case "required":p=!0;n=c._getErrorMessage(m,a,e[l],e,l,b,c._required);break;case "custom":n=c._getErrorMessage(m,a,e[l],e,l,b,c._custom);break;case "groupRequired":var r="["+b.validateAttribute+"*="+e[l+1]+"]",n=m.find(r).eq(0);n[0]!=a[0]&&(c._validateField(n,b,f),b.showArrow=!0);(n=c._getErrorMessage(m,
a,e[l],e,l,b,c._groupRequired))&&(p=!0);b.showArrow=!1;break;case "ajax":(n=c._ajax(a,e,l,b))&&(k="load");break;case "minSize":n=c._getErrorMessage(m,a,e[l],e,l,b,c._minSize);break;case "maxSize":n=c._getErrorMessage(m,a,e[l],e,l,b,c._maxSize);break;case "min":n=c._getErrorMessage(m,a,e[l],e,l,b,c._min);break;case "max":n=c._getErrorMessage(m,a,e[l],e,l,b,c._max);break;case "past":n=c._getErrorMessage(m,a,e[l],e,l,b,c._past);break;case "future":n=c._getErrorMessage(m,a,e[l],e,l,b,c._future);break;
case "dateRange":r="["+b.validateAttribute+"*="+e[l+1]+"]";b.firstOfGroup=m.find(r).eq(0);b.secondOfGroup=m.find(r).eq(1);if(b.firstOfGroup[0].value||b.secondOfGroup[0].value)n=c._getErrorMessage(m,a,e[l],e,l,b,c._dateRange);n&&(p=!0);b.showArrow=!1;break;case "dateTimeRange":r="["+b.validateAttribute+"*="+e[l+1]+"]";b.firstOfGroup=m.find(r).eq(0);b.secondOfGroup=m.find(r).eq(1);if(b.firstOfGroup[0].value||b.secondOfGroup[0].value)n=c._getErrorMessage(m,a,e[l],e,l,b,c._dateTimeRange);n&&(p=!0);b.showArrow=
!1;break;case "maxCheckbox":a=d(m.find("input[name='"+g+"']"));n=c._getErrorMessage(m,a,e[l],e,l,b,c._maxCheckbox);break;case "minCheckbox":a=d(m.find("input[name='"+g+"']"));n=c._getErrorMessage(m,a,e[l],e,l,b,c._minCheckbox);break;case "equals":n=c._getErrorMessage(m,a,e[l],e,l,b,c._equals);break;case "funcCall":n=c._getErrorMessage(m,a,e[l],e,l,b,c._funcCall);break;case "creditCard":n=c._getErrorMessage(m,a,e[l],e,l,b,c._creditCard);break;case "condRequired":n=c._getErrorMessage(m,a,e[l],e,l,b,
c._condRequired),void 0!==n&&(p=!0)}r=!1;if("object"==typeof n)switch(n.status){case "_break":r=!0;break;case "_error":n=n.message;break;case "_error_no_prompt":return!0}if(r)break;"string"==typeof n&&(h+=n+"<br/>",b.isError=!0,q++)}!p&&(!a.val()&&1>a.val().length&&0>e.indexOf("equals"))&&(b.isError=!1);f=a.prop("type");e=a.data("promptPosition")||b.promptPosition;if(("radio"==f||"checkbox"==f)&&1<m.find("input[name='"+g+"']").size())a="inline"===e?d(m.find("input[name='"+g+"'][type!=hidden]:last")):
d(m.find("input[name='"+g+"'][type!=hidden]:first")),b.showArrow=!1;a.is(":hidden")&&b.prettySelect&&(a=m.find("#"+b.usePrefix+c._jqSelector(a.attr("id"))+b.useSuffix));b.isError&&b.showPrompts?c._showPrompt(a,h,k,!1,b):c._closePrompt(a);a.trigger("jqv.field.result",[a,b.isError,h]);g=d.inArray(a[0],b.InvalidFields);-1==g?b.isError&&b.InvalidFields.push(a[0]):b.isError||b.InvalidFields.splice(g,1);c._handleStatusCssClasses(a,b);if(b.isError&&b.onFieldFailure)b.onFieldFailure(a);if(!b.isError&&b.onFieldSuccess)b.onFieldSuccess(a);
return b.isError},_handleStatusCssClasses:function(a,b){b.addSuccessCssClassToField&&a.removeClass(b.addSuccessCssClassToField);b.addFailureCssClassToField&&a.removeClass(b.addFailureCssClassToField);b.addSuccessCssClassToField&&!b.isError&&a.addClass(b.addSuccessCssClassToField);b.addFailureCssClassToField&&b.isError&&a.addClass(b.addFailureCssClassToField)},_getErrorMessage:function(a,b,f,g,e,h,k){var p=jQuery.inArray(f,g);if("custom"===f||"funcCall"===f)f=f+"["+g[p+1]+"]",delete g[p];var p=f,s=
(b.attr("data-validation-engine")?b.attr("data-validation-engine"):b.attr("class")).split(" ");a="future"==f||"past"==f||"maxCheckbox"==f||"minCheckbox"==f?k(a,b,g,e,h):k(b,g,e,h);void 0!=a&&(b=c._getCustomErrorMessage(d(b),s,p,h))&&(a=b);return a},_getCustomErrorMessage:function(a,b,f,d){var e=!1,e=/^custom\[.*\]$/.test(f)?c._validityProp.custom:c._validityProp[f];if(void 0!=e&&(e=a.attr("data-errormessage-"+e),void 0!=e))return e;e=a.attr("data-errormessage");if(void 0!=e)return e;a="#"+a.attr("id");
if("undefined"!=typeof d.custom_error_messages[a]&&"undefined"!=typeof d.custom_error_messages[a][f])e=d.custom_error_messages[a][f].message;else if(0<b.length)for(a=0;a<b.length&&0<b.length;a++){var h="."+b[a];if("undefined"!=typeof d.custom_error_messages[h]&&"undefined"!=typeof d.custom_error_messages[h][f]){e=d.custom_error_messages[h][f].message;break}}!e&&("undefined"!=typeof d.custom_error_messages[f]&&"undefined"!=typeof d.custom_error_messages[f].message)&&(e=d.custom_error_messages[f].message);
return e},_validityProp:{required:"value-missing",custom:"custom-error",groupRequired:"value-missing",ajax:"custom-error",minSize:"range-underflow",maxSize:"range-overflow",min:"range-underflow",max:"range-overflow",past:"type-mismatch",future:"type-mismatch",dateRange:"type-mismatch",dateTimeRange:"type-mismatch",maxCheckbox:"range-overflow",minCheckbox:"range-underflow",equals:"pattern-mismatch",funcCall:"custom-error",creditCard:"pattern-mismatch",condRequired:"value-missing"},_required:function(a,
b,c,g,e){switch(a.prop("type")){default:e=d.trim(a.val());var h=d.trim(a.attr("data-validation-placeholder"));a=d.trim(a.attr("placeholder"));if(!e||h&&e==h||a&&e==a)return g.allrules[b[c]].alertText;break;case "radio":case "checkbox":if(e){if(!a.attr("checked"))return g.allrules[b[c]].alertTextCheckboxMultiple;break}e=a.closest("form, .validationEngineContainer");a=a.attr("name");if(0==e.find("input[name='"+a+"']:checked").size())return 1==e.find("input[name='"+a+"']:visible").size()?g.allrules[b[c]].alertTextCheckboxe:
g.allrules[b[c]].alertTextCheckboxMultiple}},_groupRequired:function(a,b,f,g){var e="["+g.validateAttribute+"*="+b[f+1]+"]",h=!1;a.closest("form, .validationEngineContainer").find(e).each(function(){if(!c._required(d(this),b,f,g))return h=!0,!1});if(!h)return g.allrules[b[f]].alertText},_custom:function(a,b,c,d){var e=b[c+1],h=d.allrules[e];if(h)if(h.regex)if(b=h.regex){if(!RegExp(b).test(a.val()))return d.allrules[e].alertText}else alert("jqv:custom regex not found - "+e);else if(h.func)if(h=h.func,
"function"!==typeof h)alert("jqv:custom parameter 'function' is no function - "+e);else{if(!h(a,b,c,d))return d.allrules[e].alertText}else alert("jqv:custom type not allowed "+e);else alert("jqv:custom rule not found - "+e)},_funcCall:function(a,b,c,d){var e=b[c+1];if(-1<e.indexOf(".")){for(var e=e.split("."),h=window;e.length;)h=h[e.shift()];e=h}else e=window[e]||d.customFunctions[e];if("function"==typeof e)return e(a,b,c,d)},_equals:function(a,b,c,g){b=b[c+1];if(a.val()!=d("#"+b).val())return g.allrules.equals.alertText},
_maxSize:function(a,b,c,d){b=b[c+1];if(a.val().length>b)return a=d.allrules.maxSize,a.alertText+b+a.alertText2},_minSize:function(a,b,c,d){b=b[c+1];if(a.val().length<b)return a=d.allrules.minSize,a.alertText+b+a.alertText2},_min:function(a,b,c,d){b=parseFloat(b[c+1]);if(parseFloat(a.val())<b)return a=d.allrules.min,a.alertText2?a.alertText+b+a.alertText2:a.alertText+b},_max:function(a,b,c,d){b=parseFloat(b[c+1]);if(parseFloat(a.val())>b)return a=d.allrules.max,a.alertText2?a.alertText+b+a.alertText2:
a.alertText+b},_past:function(a,b,f,g,e){f=f[g+1];a=d(a.find("*[name='"+f.replace(/^#+/,"")+"']"));if("now"==f.toLowerCase())a=new Date;else if(void 0!=a.val()){if(a.is(":disabled"))return;a=c._parseDate(a.val())}else a=c._parseDate(f);if(c._parseDate(b.val())>a)return b=e.allrules.past,b.alertText2?b.alertText+c._dateToString(a)+b.alertText2:b.alertText+c._dateToString(a)},_future:function(a,b,f,g,e){f=f[g+1];a=d(a.find("*[name='"+f.replace(/^#+/,"")+"']"));if("now"==f.toLowerCase())a=new Date;else if(void 0!=
a.val()){if(a.is(":disabled"))return;a=c._parseDate(a.val())}else a=c._parseDate(f);if(c._parseDate(b.val())<a)return b=e.allrules.future,b.alertText2?b.alertText+c._dateToString(a)+b.alertText2:b.alertText+c._dateToString(a)},_isDate:function(a){return RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/).test(a)},
_isDateTime:function(a){return RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/).test(a)},_dateCompare:function(a,
b){return new Date(a.toString())<new Date(b.toString())},_dateRange:function(a,b,f,d){if(!d.firstOfGroup[0].value&&d.secondOfGroup[0].value||d.firstOfGroup[0].value&&!d.secondOfGroup[0].value||(!c._isDate(d.firstOfGroup[0].value)||!c._isDate(d.secondOfGroup[0].value))||!c._dateCompare(d.firstOfGroup[0].value,d.secondOfGroup[0].value))return d.allrules[b[f]].alertText+d.allrules[b[f]].alertText2},_dateTimeRange:function(a,b,d,g){if(!g.firstOfGroup[0].value&&g.secondOfGroup[0].value||g.firstOfGroup[0].value&&
!g.secondOfGroup[0].value||(!c._isDateTime(g.firstOfGroup[0].value)||!c._isDateTime(g.secondOfGroup[0].value))||!c._dateCompare(g.firstOfGroup[0].value,g.secondOfGroup[0].value))return g.allrules[b[d]].alertText+g.allrules[b[d]].alertText2},_maxCheckbox:function(a,b,c,d,e){c=c[d+1];b=b.attr("name");if(a.find("input[name='"+b+"']:checked").size()>c)return e.showArrow=!1,e.allrules.maxCheckbox.alertText2?e.allrules.maxCheckbox.alertText+" "+c+" "+e.allrules.maxCheckbox.alertText2:e.allrules.maxCheckbox.alertText},
_minCheckbox:function(a,b,c,d,e){c=c[d+1];b=b.attr("name");if(a.find("input[name='"+b+"']:checked").size()<c)return e.showArrow=!1,e.allrules.minCheckbox.alertText+" "+c+" "+e.allrules.minCheckbox.alertText2},_creditCard:function(a,b,c,d){c=!1;a=a.val().replace(/ +/g,"").replace(/-+/g,"");var e=a.length;if(14<=e&&16>=e&&0<parseInt(a)){b=0;c=e-1;var e=1,h,k=new String;do h=parseInt(a.charAt(c)),k+=0==e++%2?2*h:h;while(0<=--c);for(c=0;c<k.length;c++)b+=parseInt(k.charAt(c));c=0==b%10}if(!c)return d.allrules.creditCard.alertText},
_ajax:function(a,b,f,g){var e=g.allrules[b[f+1]];f=e.extraData;var h=e.extraDataDynamic;b={fieldId:a.attr("id"),fieldValue:a.val()};if("object"===typeof f)d.extend(b,f);else if("string"===typeof f){var k=f.split("&");for(f=0;f<k.length;f++){var p=k[f].split("=");p[0]&&p[0]&&(b[p[0]]=p[1])}}if(h){h=String(h).split(",");for(f=0;f<h.length;f++)k=h[f],d(k).length&&(p=a.closest("form, .validationEngineContainer").find(k).val(),k.replace("#",""),escape(p),b[k.replace("#","")]=p)}"field"==g.eventTrigger&&
delete g.ajaxValidCache[a.attr("id")];if(!g.isError&&!c._checkAjaxFieldStatus(a.attr("id"),g))return d.ajax({type:g.ajaxFormValidationMethod,url:e.url,cache:!1,dataType:"json",data:b,field:a,rule:e,methods:c,options:g,beforeSend:function(){},error:function(a,b){if(g.onFailure)g.onFailure(a,b);else c._ajaxError(a,b)},success:function(b){var f=b[0],h=d("#"+f).eq(0);if(1==h.length){var k=b[2];b[1]?(g.ajaxValidCache[f]=!0,k?g.allrules[k]&&(b=g.allrules[k].alertTextOk)&&(k=b):k=e.alertTextOk,g.showPrompts&&
(k?c._showPrompt(h,k,"pass",!0,g):c._closePrompt(h)),"submit"==g.eventTrigger&&a.closest("form").submit()):(g.ajaxValidCache[f]=!1,g.isError=!0,k?g.allrules[k]&&(b=g.allrules[k].alertText)&&(k=b):k=e.alertText,g.showPrompts&&c._showPrompt(h,k,"",!0,g))}h.trigger("jqv.field.result",[h,g.isError,k])}}),e.alertTextLoad},_ajaxError:function(a,b){0==a.status&&null==b?alert("The page is not served from a server! ajax call failed"):"undefined"!=typeof console&&console.log("Ajax error: "+a.status+" "+b)},
_dateToString:function(a){return a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()},_parseDate:function(a){var b=a.split("-");b==a&&(b=a.split("/"));return b==a?(b=a.split("."),new Date(b[2],b[1]-1,b[0])):new Date(b[0],b[1]-1,b[2])},_showPrompt:function(a,b,f,g,e,h){a.data("jqv-prompt-at")instanceof jQuery?a=a.data("jqv-prompt-at"):a.data("jqv-prompt-at")&&(a=d(a.data("jqv-prompt-at")));var k=c._getPrompt(a);h&&(k=!1);d.trim(b)&&(k?c._updatePrompt(a,k,b,f,g,e):c._buildPrompt(a,b,f,g,e))},_buildPrompt:function(a,
b,f,g,e){var h=d("<div>");h.addClass(c._getClassName(a.attr("id"))+"form_error");h.addClass("parentForm"+c._getClassName(a.closest("form, .validationEngineContainer").attr("id")));h.addClass("form_error");switch(f){case "pass":h.addClass("green_popup");break;case "load":h.addClass("black_popup")}g&&h.addClass("ajaxed");d("<div>").addClass("form_error_content").html(b).appendTo(h);b=a.data("promptPosition")||e.promptPosition;if(e.showArrow)switch(f=d("<div>").addClass("form_error_arrow"),"string"==
typeof b&&(g=b.indexOf(":"),-1!=g&&(b=b.substring(0,g))),b){case "bottomLeft":case "bottomRight":h.find(".form_error_content").before(f);f.addClass("form_error_arrow_bottom").html('<div class="line1">\x3c!-- --\x3e</div><div class="line2">\x3c!-- --\x3e</div><div class="line3">\x3c!-- --\x3e</div><div class="line4">\x3c!-- --\x3e</div><div class="line5">\x3c!-- --\x3e</div><div class="line6">\x3c!-- --\x3e</div><div class="line7">\x3c!-- --\x3e</div><div class="line8">\x3c!-- --\x3e</div><div class="line9">\x3c!-- --\x3e</div><div class="line10">\x3c!-- --\x3e</div>');
break;case "topLeft":case "topRight":f.html('<div class="line10">\x3c!-- --\x3e</div><div class="line9">\x3c!-- --\x3e</div><div class="line8">\x3c!-- --\x3e</div><div class="line7">\x3c!-- --\x3e</div><div class="line6">\x3c!-- --\x3e</div><div class="line5">\x3c!-- --\x3e</div><div class="line4">\x3c!-- --\x3e</div><div class="line3">\x3c!-- --\x3e</div><div class="line2">\x3c!-- --\x3e</div><div class="line1">\x3c!-- --\x3e</div>'),h.append(f)}e.addPromptClass&&h.addClass(e.addPromptClass);f=a.attr("data-required-class");
void 0!==f?h.addClass(f):e.prettySelect&&d("#"+a.attr("id")).next().is("select")&&(f=d("#"+a.attr("id").substr(e.usePrefix.length).substring(e.useSuffix.length)).attr("data-required-class"),void 0!==f&&h.addClass(f));h.css({opacity:0});"inline"===b?(h.addClass("inline"),"undefined"!==typeof a.attr("data-prompt-target")&&0<d("#"+a.attr("data-prompt-target")).length?h.appendTo(d("#"+a.attr("data-prompt-target"))):a.after(h)):a.before(h);g=c._calculatePosition(a,h,e);h.css({position:"inline"===b?"relative":
"absolute",top:g.callerTopPosition,left:g.callerleftPosition,marginTop:g.marginTopSize,opacity:0}).data("callerField",a);e.autoHidePrompt&&setTimeout(function(){h.animate({opacity:0},function(){h.closest(".formErrorOuter").remove();h.remove()})},e.autoHideDelay);return h.animate({opacity:0.87})},_updatePrompt:function(a,b,d,g,e,h,k){b&&("undefined"!==typeof g&&("pass"==g?b.addClass("green_popup"):b.removeClass("green_popup"),"load"==g?b.addClass("black_popup"):b.removeClass("black_popup")),e?b.addClass("ajaxed"):
b.removeClass("ajaxed"),b.find(".form_error_content").html(d),a=c._calculatePosition(a,b,h),a={top:a.callerTopPosition,left:a.callerleftPosition,marginTop:a.marginTopSize},k?b.css(a):b.animate(a))},_closePrompt:function(a){var b=c._getPrompt(a);b&&b.fadeTo("fast",0,function(){b.parent(".formErrorOuter").remove();b.remove()})},closePrompt:function(a){return c._closePrompt(a)},_getPrompt:function(a){var b=d(a).closest("form, .validationEngineContainer").attr("id");a=c._getClassName(a.attr("id"))+"form_error";
if(b=d("."+c._escapeExpression(a)+".parentForm"+c._getClassName(b))[0])return d(b)},_escapeExpression:function(a){return a.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},isRTL:function(a){var b=d(document),c=d("body");a=a&&a.hasClass("rtl")||a&&"rtl"===(a.attr("dir")||"").toLowerCase()||b.hasClass("rtl")||"rtl"===(b.attr("dir")||"").toLowerCase()||c.hasClass("rtl")||"rtl"===(c.attr("dir")||"").toLowerCase();return Boolean(a)},_calculatePosition:function(a,b,c){var d,e,h,k=a.width(),p=a.position().left,
s=a.position().top;a.height();h=b.height();d=e=0;h=-h;c=a.data("promptPosition")||c.promptPosition;var m="",l="",q=l=0;"string"==typeof c&&-1!=c.indexOf(":")&&(m=c.substring(c.indexOf(":")+1),c=c.substring(0,c.indexOf(":")),-1!=m.indexOf(",")&&(l=m.substring(m.indexOf(",")+1),m=m.substring(0,m.indexOf(",")),q=parseInt(l),isNaN(q)&&(q=0)),l=parseInt(m),isNaN(m));switch(c){default:case "topRight":e+=p+k-30;d+=s;break;case "topLeft":d+=s;e+=p;break;case "centerRight":d=s-2;h=0;e=p+a.outerWidth(!0)+5;
break;case "centerLeft":e=p-(b.width()+2);d=s-2;h=0;break;case "bottomLeft":d=s+a.height()+5;h=0;e=p;break;case "bottomRight":e=p+k-30;d=s+a.height()+5;h=0;break;case "inline":h=d=e=0}return{callerTopPosition:d+q+"px",callerleftPosition:e+l+"px",marginTopSize:h+"px"}},_saveOptions:function(a,b){if(d.validationEngineLanguage)var c=d.validationEngineLanguage.allRules;else d.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page");d.validationEngine.defaults.allrules=
c;c=d.extend(!0,{},d.validationEngine.defaults,b);a.data("jqv",c);return c},_getClassName:function(a){if(a)return a.replace(/:/g,"_").replace(/\./g,"_")},_jqSelector:function(a){return a.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1")},_condRequired:function(a,b,d,g){var e;for(d+=1;d<b.length;d++)if(e=jQuery("#"+b[d]).first(),e.length&&void 0==c._required(e,["required"],0,g,!0))return c._required(a,["required"],0,g)},_submitButtonClick:function(a){a=d(this);a.closest("form, .validationEngineContainer").data("jqv_submitButton",
a.attr("id"))}};d.fn.validationEngine=function(a){var b=d(this);if(!b[0])return b;if("string"==typeof a&&"_"!=a.charAt(0)&&c[a])return"showPrompt"!=a&&("hide"!=a&&"hideAll"!=a)&&c.init.apply(b),c[a].apply(b,Array.prototype.slice.call(arguments,1));if("object"==typeof a||!a)return c.init.apply(b,arguments),c.attach.apply(b);d.error("Method "+a+" does not exist in jQuery.validationEngine")};d.validationEngine={fieldIdCounter:0,defaults:{bindSubmit:!0,validationEventTrigger:"blur",scroll:!0,focusFirstField:!0,
showPrompts:!0,validateNonVisibleFields:!1,promptPosition:"topRight",bindMethod:"bind",inlineAjax:!1,ajaxFormValidation:!1,ajaxFormValidationURL:!1,ajaxFormValidationMethod:"get",onAjaxFormComplete:d.noop,onBeforeAjaxFormValidation:d.noop,onValidationComplete:!1,doNotShowAllErrosOnSubmit:!1,custom_error_messages:{},binded:!0,showArrow:!0,isError:!1,maxErrorsPerField:!1,ajaxValidCache:{},autoPositionUpdate:!1,InvalidFields:[],onFieldSuccess:!1,onFieldFailure:!1,onSuccess:!1,onFailure:!1,validateAttribute:"class",
addSuccessCssClassToField:"",addFailureCssClassToField:"",autoHidePrompt:!1,autoHideDelay:1E4,fadeDuration:0.3,prettySelect:!1,addPromptClass:"",usePrefix:"",useSuffix:"",showOneMessage:!1}};d(function(){d.validationEngine.defaults.promptPosition=c.isRTL()?"topLeft":"topRight"})})(jQuery);(function(d){d.fn.validationEngineLanguage=function(){};d.validationEngineLanguage={newLang:function(){d.validationEngineLanguage.allRules={required:{regex:"none",alertText:"* This field is required",alertTextCheckboxMultiple:"* Please select an option",alertTextCheckboxe:"* This checkbox is required",alertTextDateRange:"* Both date range fields are required"},requiredInFunction:{func:function(c,a,b,d){return"test"==c.val()?!0:!1},alertText:"* Field must equal test"},dateRange:{regex:"none",alertText:"* Invalid ",
alertText2:"Date Range"},dateTimeRange:{regex:"none",alertText:"* Invalid ",alertText2:"Date Time Range"},minSize:{regex:"none",alertText:"* Minimum ",alertText2:" characters required"},maxSize:{regex:"none",alertText:"* Maximum ",alertText2:" characters allowed"},groupRequired:{regex:"none",alertText:"* You must fill one of the following fields"},min:{regex:"none",alertText:"* Minimum value is "},max:{regex:"none",alertText:"* Maximum value is "},past:{regex:"none",alertText:"* Date prior to "},
future:{regex:"none",alertText:"* Date past "},maxCheckbox:{regex:"none",alertText:"* Maximum ",alertText2:" options allowed"},minCheckbox:{regex:"none",alertText:"* Please select ",alertText2:" options"},equals:{regex:"none",alertText:"* Fields do not match"},creditCard:{regex:"none",alertText:"* Invalid credit card number"},phone:{regex:/^([\+][0-9]{1,3}[\ \.\-])?([\(]{1}[0-9]{2,6}[\)])?([0-9\ \.\-\/]{3,20})((x|ext|extension)[\ ]?[0-9]{1,4})?$/,alertText:"* Invalid phone number"},user_name:{regex:/^[\w_]+$/,
alertText:"* May only contain letters, numbers, and underscore"},email:{regex:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,alertText:"* Invalid email address"},integer:{regex:/^[\-\+]?\d+$/,alertText:"* Not a valid integer"},number:{regex:/^[\-\+]?((([0-9]{1,3})([,][0-9]{3})*)|([0-9]+))?([\.]([0-9]+))?$/,alertText:"* Invalid floating decimal number"},date:{func:function(c){var a=RegExp(/^(\d{4})[\/\-\.](0?[1-9]|1[012])[\/\-\.](0?[1-9]|[12][0-9]|3[01])$/).exec(c.val());
if(null==a)return!1;c=a[1];var b=1*a[2],a=1*a[3],d=new Date(c,b-1,a);return d.getFullYear()==c&&d.getMonth()==b-1&&d.getDate()==a},alertText:"* Invalid date, must be in YYYY-MM-DD format"},ipv4:{regex:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,alertText:"* Invalid IP address"},url:{regex:/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i,
alertText:"* Invalid URL"},onlyNumberSp:{regex:/^[0-9\ ]+$/,alertText:"* Numbers only"},onlyLetterSp:{regex:/^[a-zA-Z\ \']+$/,alertText:"* Letters only"},onlyLetterNumber:{regex:/^[0-9a-zA-Z]+$/,alertText:"* No special characters allowed"},containsNumber:{alertText:"* Must contain at least one number"},containsCapitalLetter:{alertText:"* Must contain at least one capital letter"},validateRoutingNumber:{alertText:"* Routing number is invalid"},validateAccountNumber:{alertText:"* Account number is invalid"},
validatePrice:{alertText:"* Must be non-zero number"},urlNoProtocol:{regex:/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/i,alertText:"Use a valid website format. Example: www.mysite.com"},urlNotAdChannel:{func:function(c,a,b,d){c=c.val().toLowerCase();return 0<=c.indexOf("google.")||0<=c.indexOf("bing.")||0<=c.indexOf("bonanza.")||0<=c.indexOf("bonanzamarket.")||0<=c.indexOf("bonanzamarkt.")||0<=c.indexOf("bonanzamarketplace.")||
0<=c.indexOf("bonanzamercado.")||0<=c.indexOf("bonanzamarche")||0<=c.indexOf("ebay.")?!1:!0},alertText:"Your website can't be a Bonanza advertising channel. Try using a site you own."}}}};d.validationEngineLanguage.newLang()})(jQuery);function validationEngineContainsNumber(d,c,a,b){if(!/\d+/.test(d.val()))return b.allrules.containsNumber.alertText}function validationEngineContainsCapitalLetter(d,c,a,b){if(!/[A-Z]+/.test(d.val()))return b.allrules.containsCapitalLetter.alertText}function validationEngineValidatePrice(d,c,a,b){if(!/^(\d)*(\.)?(\d)*$/.test(d.val())||0==d.val())return b.allrules.validatePrice.alertText}
function validationEngineMinCheckbox(d,c,a,b){d=c[a+2];c=$("."+c[a+3]);for(a=b=0;a<c.length&&!($(c[a]).prop("checked")&&b++,b>=d);a++);if(b<d)return"Not enough checkboxes selected"}function validationEngineValidateRoutingNumber(d,c,a,b){if(!Stripe.bankAccount.validateRoutingNumber(d.val(),"US"))return b.allrules.validateRoutingNumber.alertText}
function validationEngineValidateAccountNumber(d,c,a,b){if(!Stripe.bankAccount.validateAccountNumber(d.val(),"US"))return b.allrules.validateAccountNumber.alertText};BONZ.Sessions=function(){var d=function(){var a=$("#user_user_name"),b=a.data("validation-url");BONZ.Application.ensureValidUserName(a,b)},c=function(){$("#rbf_selector").change(function(){var a=null,b=parseInt($(this).val());switch(b){case 6:case 1:a="what had you searched for";break;case 2:a="which blog";break;case 3:a="which site";break;case 4:a="from who";break;default:a="what person/site"}$("#like_what").html(a);$("#more_specifically").toggle(0<=b)})};return{initializeLogin:function(){if(!BONZ.isMobile){var a=
$("#username");""===a.val()?a.focus():$("#password").focus()}},initializeRegister:function(){d();c();$(".user_session_form select").chosenDeprecated();$(".user_session_form").validationEngine({promptPosition:BONZ.isMobile?"bottomLeft":"topRight"});$(".unregistered_booth_follow_link").click(function(){BONZ.Application.openGlobalLoginPopup($.param({then_what:"subscribe_to_booth",booth_id:$(this).data("booth-id")}))})},initializeLoginSlideup:function(a){60<=a?$(".global_login_slideup, .mobile_footer_bottom_bar").css({transition:"none",
bottom:0}):setTimeout(function(){$(".global_login_slideup, .mobile_footer_bottom_bar").animate({bottom:0})},1E3*(60-a));$(document).on("click",".login_slideup_close_link, .new_user_sign_up_close",function(a){a.preventDefault();$.cookie("nolinag",!0,{path:"/",domain:BONZ.cookie_domain,expires:21});$(this).parents(".global_login_slideup, .mobile_footer_bottom_bar").remove()})}}}();


if (typeof(BONZ) !== 'undefined' && BONZ.packageLoaded) BONZ.packageLoaded('sessions_js');
//# sourceMappingURL=sessions_js.js.map
